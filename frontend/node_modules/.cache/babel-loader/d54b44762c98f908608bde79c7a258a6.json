{"ast":null,"code":"import _classCallCheck from \"/Users/martin/Desktop/CodeClan/april/final_project/front_End_Resturant_Booking_System_project/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/martin/Desktop/CodeClan/april/final_project/front_End_Resturant_Booking_System_project/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/martin/Desktop/CodeClan/april/final_project/front_End_Resturant_Booking_System_project/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/martin/Desktop/CodeClan/april/final_project/front_End_Resturant_Booking_System_project/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/martin/Desktop/CodeClan/april/final_project/front_End_Resturant_Booking_System_project/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/martin/Desktop/CodeClan/april/final_project/front_End_Resturant_Booking_System_project/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/martin/Desktop/CodeClan/april/final_project/front_End_Resturant_Booking_System_project/src/containers/NewBookingContainer.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport Request from \"../helpers/requests.js\";\nimport NewCustomer from \"../Components/NewCustomerComponent\";\n\nvar NewBookingContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NewBookingContainer, _Component);\n\n  function NewBookingContainer(props) {\n    var _this;\n\n    _classCallCheck(this, NewBookingContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewBookingContainer).call(this, props));\n    state = {\n      redirect: false\n    };\n    _this.handleNewBookingSubmit = _this.handleNewBookingSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleNewCustomer = _this.handleNewCustomer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(NewBookingContainer, [{\n    key: \"handleNewBookingSubmit\",\n    value: function handleNewBookingSubmit(event) {\n      event.preventDefault();\n      console.log(this.props.id, this.props.day, this.props.month, this.props.time); // console.log(event.target.customers.value)\n\n      var request = new Request();\n      request.post('/bookings', {\n        \"customer\": \"http://localhost:8080/customers/\" + event.target.customers.value,\n        \"restaurantTable\": \"http://localhost:8080/restaurantTable/\" + this.props.id,\n        \"day\": this.props.day,\n        \"month\": this.props.month,\n        \"time\": this.props.time\n      });\n      this.props.getData();\n    }\n  }, {\n    key: \"handleNewCustomer\",\n    value: function handleNewCustomer(newCustomer) {\n      var _this2 = this;\n\n      var request = new Request();\n      request.post('/customers', {\n        name: newCustomer\n      }).then(function (_) {\n        return _this2.props.getData();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var customerOptions = this.props.customers.map(function (customer, index) {\n        return React.createElement(\"option\", {\n          key: index,\n          value: customer.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, customer.name);\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"New booking\"), React.createElement(\"form\", {\n        onSubmit: this.handleNewBookingSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Customers:\", React.createElement(\"select\", {\n        id: \"customers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, customerOptions), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \" Table: \", this.props.id), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \" Date: \", this.props.day, \"/\", this.props.month, \" \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \" Time: \", this.props.time, \" \"), React.createElement(\"input\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      })), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(NewCustomer, {\n        handleNewCustomer: this.handleNewCustomer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return NewBookingContainer;\n}(Component);\n\nexport default NewBookingContainer;","map":{"version":3,"sources":["/Users/martin/Desktop/CodeClan/april/final_project/front_End_Resturant_Booking_System_project/src/containers/NewBookingContainer.js"],"names":["React","Component","Redirect","Request","NewCustomer","NewBookingContainer","props","state","redirect","handleNewBookingSubmit","bind","handleNewCustomer","event","preventDefault","console","log","id","day","month","time","request","post","target","customers","value","getData","newCustomer","name","then","_","customerOptions","map","customer","index"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport Request from \"../helpers/requests.js\";\nimport NewCustomer from \"../Components/NewCustomerComponent\";\n\nclass NewBookingContainer extends Component {\n  constructor (props)  {\n    super(props)\n    state = {\n      redirect: false\n    }\n\n    this.handleNewBookingSubmit = this.handleNewBookingSubmit.bind(this);\n    this.handleNewCustomer = this.handleNewCustomer.bind(this);\n  }\n\n  handleNewBookingSubmit(event) {\n    event.preventDefault()\n    console.log(this.props.id, this.props.day, this.props.month, this.props.time)\n    // console.log(event.target.customers.value)\n    const request = new Request();\n    request.post('/bookings', {\n      \"customer\": \"http://localhost:8080/customers/\" + event.target.customers.value,\n      \"restaurantTable\": \"http://localhost:8080/restaurantTable/\" + this.props.id,\n      \"day\": this.props.day,\n      \"month\": this.props.month,\n      \"time\": this.props.time\n    })\n\n    this.props.getData()\n\n  }\n\n  handleNewCustomer(newCustomer){\n    const request = new Request();\n    request.post('/customers', {name: newCustomer})\n      .then(_ => this.props.getData())\n  }\n  render() {\n\n    const customerOptions = this.props.customers.map((customer, index) => {\n      return <option key={index} value={customer.id}>{customer.name}</option>\n    })\n\n    return (\n      <div>\n      <h4>New booking</h4>\n      <form onSubmit={this.handleNewBookingSubmit}>\n      Customers:\n      <select id=\"customers\">\n      {customerOptions}\n      </select>\n      <p> Table: {this.props.id}</p>\n      <p> Date: {this.props.day}/{this.props.month} </p>\n      <p> Time: {this.props.time} </p>\n      <input type=\"submit\" />\n\n      </form>\n\n\n      <form>\n\n      <NewCustomer handleNewCustomer={this.handleNewCustomer} />\n      </form>\n      </div>\n    )\n  }\n}\n\n\nexport default NewBookingContainer;\n"]},"metadata":{},"sourceType":"module"}